(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chat-chat-list-chat-list"],{1524:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"rounded mr-2 px-2 py-1",class:t.disabled?"bg-light border":"main-bg-color",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickEvent.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"font",class:t.disabled?"text-light-muted":"text-white"},[t._v(t._s(t.name))])],1)},r=[]},"253b":function(t,e,n){"use strict";(function(t){var i=n("4ea4");n("4de4"),n("4160"),n("c975"),n("d81d"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("5530")),r=n("26cb"),c={data:function(){return{keyword:"",muliSelect:!1,top:0,list:[],detail:{},sendItem:{},content:""}},onLoad:function(e){var n=uni.getSystemInfoSync();this.top=n.statusBarHeight+uni.upx2px(90),this.list=this.chatList.map((function(t){return(0,a.default)((0,a.default)({},t),{},{checked:!1})})),e.params&&(this.detail=JSON.parse(decodeURIComponent(e.params)),t.log(this.detail))},computed:(0,a.default)((0,a.default)({},(0,r.mapState)({chatList:function(t){return t.user.chatList},chat:function(t){return t.user.chat}})),{},{allList:function(){return""===this.keyword?this.list:this.searchList},searchList:function(){var t=this;return""===this.keyword?[]:this.list.filter((function(e){return-1!==e.name.indexOf(t.keyword)}))},selectList:function(){return this.list.filter((function(t){return t.checked}))},selectCount:function(){return this.selectList.length},message:function(){var t={image:"[图片]",video:"[视频]",audio:"[语音]",card:"[名片]",emoticon:"[表情]"};return"text"===this.detail.type?this.detail.data:t[this.detail.type]}}),methods:{handleNavBarBtn:function(){var t=this;return this.muliSelect?0===this.selectCount?uni.showToast({title:"请先选择",icon:"none"}):void this.$refs.confirm.show((function(e){t.selectList.forEach((function(e){t.send(e),t.content&&t.send(e,t.content,"text")})),e(),uni.reLaunch({url:"../../tabbar/index/index"})})):this.muliSelect=!0},selectItem:function(t){var e=this;if(this.muliSelect)return t.checked||9!==this.selectCount?t.checked=!t.checked:uni.showToast({title:"最多选中 9 个",icon:"none"});this.sendItem=t,this.$refs.confirm.show((function(n){e.send(t),e.content&&e.send(t,e.content,"text"),n(),uni.reLaunch({url:"../../tabbar/index/index"})}))},send:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.chat.formatSendData({to_id:t.id,to_name:t.name,to_avatar:t.avatar,chat_type:t.chat_type,data:e||this.detail.data,type:n||this.detail.type,options:this.detail.options});this.chat.send(i)},openMail:function(){uni.navigateTo({url:"../mail/mail"})}}};e.default=c}).call(this,n("5a52")["default"])},"40db":function(t,e,n){"use strict";n.r(e);var i=n("1524"),a=n("9857");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var c,s=n("f0c5"),u=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"40510ab7",null,!1,i["a"],c);e["default"]=u.exports},"44e9":function(t,e,n){"use strict";n.r(e);var i=n("d271"),a=n("e210");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var c,s=n("f0c5"),u=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"4ec237a5",null,!1,i["a"],c);e["default"]=u.exports},"5e0e":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{title:{type:String,default:"提示"}},data:function(){return{callback:!1}},methods:{show:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.callback=t,this.$refs.confirm.show()},cancel:function(){this.$refs.confirm.hide()},confirm:function(){var t=this;"function"===typeof this.callback&&this.callback((function(){t.cancel()}))}}};e.default=i},"67e6":function(t,e,n){"use strict";n.r(e);var i=n("806c"),a=n("9989");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var c,s=n("f0c5"),u=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"e7b5a742",null,!1,i["a"],c);e["default"]=u.exports},"6b8a":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={freePopup:n("b042").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("free-popup",{ref:"confirm",attrs:{center:!0,maskColor:!0,transformOrigin:"center center"}},[n("v-uni-view",{staticClass:"bg-white rounded",staticStyle:{width:"600rpx"}},[n("v-uni-view",{staticClass:"p-4 flex flex-column"},[n("v-uni-text",{staticClass:"font-md font-weight-bold mb-3"},[t._v(t._s(t.title))]),t._t("default")],2),n("v-uni-view",{staticClass:"border-top flex align-stretch",staticStyle:{height:"100rpx"}},[n("v-uni-view",{staticClass:"flex-1 border-right flex align-center justify-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"font-md text-muted"},[t._v("取消")])],1),n("v-uni-view",{staticClass:"flex-1 flex align-center justify-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"font-md main-text-color"},[t._v("确定")])],1)],1)],1)],1)},r=[]},"806c":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={freeNavBar:n("3e12").default,freeMainButton:n("40db").default,freeListItem:n("7474").default,freeConfirm:n("eb50").default,freeAvater:n("44e9").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("free-nav-bar",{attrs:{title:"选择",showBack:!0,showRight:!0}},[n("free-main-button",{attrs:{slot:"right",name:t.muliSelect?"发送 ("+t.selectCount+")":"多选"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleNavBarBtn.apply(void 0,arguments)}},slot:"right"})],1),n("v-uni-view",{staticClass:"p-3 bg-light position-fixed left-0 right-0",staticStyle:{"z-index":"2"},style:"top:"+t.top+"px;"},[n("v-uni-input",{staticClass:"bg-white rounded",staticStyle:{height:"80rpx"},attrs:{type:"text",placeholder:"搜索","placeholder-class":"text-center"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),n("v-uni-view",{staticStyle:{height:"140rpx"}}),t._l(t.allList,(function(e,i){return n("free-list-item",{key:i,attrs:{title:e.name,cover:e.avatar||"/static/images/userpic.png",showRight:!0,showRightIcon:!1},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.selectItem(e)}}},[t.muliSelect?n("v-uni-view",{staticClass:"border rounded-circle flex align-center justify-center",staticStyle:{width:"40rpx",height:"40rpx"},attrs:{slot:"right"},slot:"right"},[e.checked?n("v-uni-view",{staticClass:"main-bg-color rounded-circle",staticStyle:{width:"30rpx",height:"30rpx"}}):t._e()],1):t._e()],1)})),""!==t.keyword&&0===t.searchList.length?n("v-uni-view",{staticClass:"flex align-center justify-center",staticStyle:{height:"100rpx"}},[n("v-uni-text",{staticClass:"font text-light-muted"},[t._v("暂无搜索结果")])],1):t._e(),n("free-confirm",{ref:"confirm",attrs:{title:"发送给："}},[t.selectCount>0?n("v-uni-scroll-view",{attrs:{"scroll-x":"true","show-scrollbar":!1}},[n("v-uni-view",{staticClass:"flex"},t._l(t.selectList,(function(t,e){return n("v-uni-view",{key:e,staticClass:"mr-1"},[n("free-avater",{attrs:{src:t.avatar,size:"60"}})],1)})),1)],1):n("v-uni-view",{staticClass:"flex"},[n("free-avater",{attrs:{src:t.sendItem.avatar,size:"60"}}),n("v-uni-text",{staticClass:"font text-muted ml-2"},[t._v(t._s(t.sendItem.name))])],1),n("v-uni-view",{staticClass:"my-3 bg-light rounded p-2"},[n("v-uni-text",{staticClass:"font text-light-muted"},[t._v(t._s(t.message))])],1),n("v-uni-input",{staticClass:"border-bottom font-md",staticStyle:{height:"60rpx"},attrs:{type:"text",placeholder:"给朋友留言"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],2)},r=[]},9857:function(t,e,n){"use strict";n.r(e);var i=n("9a79"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},9989:function(t,e,n){"use strict";n.r(e);var i=n("253b"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"9a79":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{name:{type:String,default:""},disabled:{type:Boolean,default:!1}},methods:{clickEvent:function(){this.disabled||this.$emit("click")}}};e.default=i},"9cc9":function(t,e,n){"use strict";n.r(e);var i=n("5e0e"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},d271:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-image",{class:t.type,style:t.getStyle,attrs:{src:t.src?t.src:"/static/images/userpic.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickEvent.apply(void 0,arguments)}}})},r=[]},dee2:function(t,e,n){"use strict";n("99af"),n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{size:{type:[String,Number],default:90},src:{type:String,default:""},type:{type:String,default:"rounded"},clickType:{type:String,default:"none"}},computed:{getStyle:function(){return"width: ".concat(this.size,"rpx;height: ").concat(this.size,"rpx;")}},methods:{clickEvent:function(){switch(this.clickType){case"navigate":uni.navigateTo({url:"/pages/mail/user-base/user-base"});break;default:this.$emit("click");break}}}};e.default=i},e210:function(t,e,n){"use strict";n.r(e);var i=n("dee2"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},eb50:function(t,e,n){"use strict";n.r(e);var i=n("6b8a"),a=n("9cc9");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var c,s=n("f0c5"),u=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"0451b848",null,!1,i["a"],c);e["default"]=u.exports}}]);