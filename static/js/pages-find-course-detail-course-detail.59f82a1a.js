(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-find-course-detail-course-detail"],{"11ea":function(t,e,r){"use strict";var i;r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return n})),r.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-uni-view",{staticClass:"tui-list-view tui-view-class",style:{backgroundColor:t.backgroundColor,marginTop:t.marginTop}},[t.title?r("v-uni-view",{staticClass:"tui-list-title",style:{color:t.color,fontSize:t.size+"rpx",lineHeight:"30rpx"}},[t._v(t._s(t.title))]):t._e(),r("v-uni-view",{staticClass:"tui-list-content",class:[t.unlined?"tui-border-"+t.unlined:""]},[t._t("default")],2)],1)},n=[]},"1cdf":function(t,e,r){"use strict";r.r(e);var i=r("da00"),o=r("683f");for(var n in o)"default"!==n&&function(t){r.d(e,t,(function(){return o[t]}))}(n);var a,s=r("f0c5"),u=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"61df601a",null,!1,i["a"],a);e["default"]=u.exports},"3c07":function(t,e,r){"use strict";r("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"tuiListView",props:{title:{type:String,default:""},color:{type:String,default:"#666"},size:{type:Number,default:30},backgroundColor:{type:String,default:"transparent"},unlined:{type:String,default:""},marginTop:{type:String,default:"0"}}};e.default=i},"606f":function(t,e,r){var i=r("24fb");e=i(!1),e.push([t.i,'.tui-list-title[data-v-0c3233ea]{width:100%;padding:%?30?%;box-sizing:border-box}.tui-list-content[data-v-0c3233ea]{width:100%;position:relative}.tui-list-content[data-v-0c3233ea]::before{content:" ";position:absolute;top:0;right:0;left:0;border-top:1px solid #eaeef1;-webkit-transform:scaleY(.5) translateZ(0);transform:scaleY(.5) translateZ(0);-webkit-transform-origin:0 0;transform-origin:0 0;z-index:2;pointer-events:none}.tui-list-content[data-v-0c3233ea]::after{content:"";width:100%;position:absolute;border-bottom:1px solid #eaeef1;-webkit-transform:scaleY(.5) translateZ(0);transform:scaleY(.5) translateZ(0);-webkit-transform-origin:0 100%;transform-origin:0 100%;bottom:0;right:0;left:0}.tui-border-top[data-v-0c3233ea]::before{border-top:0}.tui-border-bottom[data-v-0c3233ea]::after{border-bottom:0}.tui-border-all[data-v-0c3233ea]::after{border-bottom:0}.tui-border-all[data-v-0c3233ea]::before{border-top:0}',""]),t.exports=e},"683f":function(t,e,r){"use strict";r.r(e);var i=r("a357"),o=r.n(i);for(var n in i)"default"!==n&&function(t){r.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},a357:function(t,e,r){"use strict";(function(t){r("a9e3"),r("25eb"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r("cf76"),o={data:function(){return{list:[],courseId:0,course:null,userCourseRecord:null,loadText:"上拉加载更多",loading:!1,loadError:!1}},onLoad:function(e){var r=this,i=uni.getSystemInfoSync();r.statusBarHeight=i.statusBarHeight,r.windowHeight=i.windowHeight;var o=0;try{o=Number.parseInt(e.id)}catch(e){t.log("_id e:",e)}if(o<1)return uni.showToast({title:"课程id错误",icon:"none"}),uni.navigateBack({delta:1});this.courseId=o,this.refresh()},onShow:function(){t.log("course-detail onShow"),this.refresh()},onPullDownRefresh:function(){this.refresh()},onReachBottom:function(){this.reachBottom()},methods:{refresh:function(){var t=this;t.getData(),uni.stopPullDownRefresh()},reachBottom:function(){var t=this;"上拉加载更多"===t.loadText&&(t.loadText="加载中...",t.pageInfo.pageNo++,t.getData())},getData:function(){var e=this,r={courseId:e.courseId,userId:e.$store.state.user.user.id};if(!e.loading)return e.loading=!0,e.loadError=!1,(0,i.userCourseRecordWithCourseSectionsRecords)(r).then((function(t){e.userCourseRecord=t.data.data.userCourseRecord,e.course=e.userCourseRecord.course,e.list=t.data.data.userCourseSectionRecords,e.loading=!1,e.checkUserCourseFinish()})).catch((function(r){t.log(r),e.loading=!1,e.loadError=!0}))},checkOne:function(t){var e=this,r=null;try{r=e.list[t].courseSection}catch(i){}return r?uni.navigateTo({url:"../course-section-detail/course-section-detail?id="+r.id}):uni.showToast({title:"参数错误",icon:"none"})},checkUserCourseFinish:function(){for(var e=this,r=!0,o=0;o<this.list.length;o++){var n=this.list[o];n.pass||(r=!1)}if(this.userCourseRecord.finsh&&(r=!1),r){var a={courseId:this.course.id};(0,i.checkUserCourseFinish)(a).then((function(r){r.data.data.finsh&&(e.userCourseRecord.finsh=!0,uni.showModal({title:"恭喜您！！！",content:"考试课程已通过",success:function(e){e.confirm?t.log("用户点击确定"):e.cancel&&t.log("用户点击取消")}}))}))}}}};e.default=o}).call(this,r("5a52")["default"])},a816:function(t,e,r){"use strict";var i=r("bf11"),o=r.n(i);o.a},a8ed:function(t,e,r){"use strict";r.r(e);var i=r("11ea"),o=r("cf45");for(var n in o)"default"!==n&&function(t){r.d(e,t,(function(){return o[t]}))}(n);r("a816");var a,s=r("f0c5"),u=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"0c3233ea",null,!1,i["a"],a);e["default"]=u.exports},bf11:function(t,e,r){var i=r("606f");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=r("4f06").default;o("3a84b33c",i,!0,{sourceMap:!1,shadowMode:!1})},cf45:function(t,e,r){"use strict";r.r(e);var i=r("3c07"),o=r.n(i);for(var n in i)"default"!==n&&function(t){r.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},cf76:function(t,e,r){"use strict";var i=r("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.checkUserCourseFinish=e.userCourseRecordWithCourseSectionsRecords=e.findOneById=e.list=void 0;var o=i(r("5c48")),n=function(t){return(0,o.default)({url:"/user-course-record/list",method:"POST",data:t})};e.list=n;var a=function(t){return(0,o.default)({url:"/user-course-record/findOneById",method:"POST",data:t})};e.findOneById=a;var s=function(t){return(0,o.default)({url:"/user-course-record/userCourseRecordWithCourseSectionsRecords",method:"POST",data:t})};e.userCourseRecordWithCourseSectionsRecords=s;var u=function(t){return(0,o.default)({url:"/user-course-record/checkUserCourseFinish",method:"POST",data:t})};e.checkUserCourseFinish=u},da00:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return n})),r.d(e,"a",(function(){return i}));var i={freeNavBar:r("3e12").default,tuiLoading:r("582c").default,tuiLoadError:r("4276").default,tuiIcon:r("0010").default,tuiListView:r("a8ed").default,tuiListCell:r("21fc").default},o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-uni-view",{staticClass:"bg-white"},[r("free-nav-bar",{attrs:{title:"课程详情",showBack:!0,showRight:!1}}),t.loading?[r("tui-loading")]:t._e(),t.loadError?[r("tui-load-error",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.refresh()}}})]:t._e(),t.course?[r("v-uni-view",{staticClass:"flex flex-row flex-wrap justify-around",attrs:{"enable-flex":"true"}},[r("v-uni-view",{staticClass:"position-relative flex flex-column list-item rounded border bg-white",staticStyle:{width:"750rpx"}},[r("v-uni-image",{staticClass:"rounded",staticStyle:{width:"750rpx",height:"400rpx"},attrs:{src:t.course.poster||"/static/images/health-logo.png",mode:""}}),r("v-uni-view",{staticClass:"border-box flex flex-row justify-center align-center p-1 bg-success text-white font-xg"},[r("v-uni-text",[t._v(t._s(t.course.name))]),t.userCourseRecord&&t.userCourseRecord.finsh?[r("v-uni-text",[t._v("/已完成")]),r("tui-icon",{attrs:{name:"circle-fill",color:"#19be6b",size:24}})]:t._e()],2),t._e()],1)],1)]:t._e(),r("tui-list-view",{attrs:{color:"#888"}},[t._l(t.list,(function(e,i){return[e.courseSection?[r("tui-list-cell",{attrs:{arrow:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.checkOne(i)}}},[r("template",{slot:"default"},[r("v-uni-view",{staticClass:"flex flex-row justify-between align-center pr-3"},[r("v-uni-text",{staticClass:"text-dark font"},[t._v(t._s(e.courseSection.title))]),e.pass?[r("tui-icon",{staticClass:"font",attrs:{name:"check",size:20,color:"#28a745"}})]:0===i?[r("tui-icon",{staticClass:"font",attrs:{name:"eye",size:20,color:"#28a745"}})]:[r("tui-icon",{staticClass:"font",attrs:{name:t.list[i-1].pass?"eye":"pwd",size:20,color:t.list[i-1].pass?"#28a745":""}})]],2)],1)],2)]:t._e()]})),0===t.list.length?[r("tui-list-cell",{attrs:{arrow:!1}},[r("v-uni-view",{staticClass:"flex flex-row justify-center align-center pr-3"},[r("v-uni-text",[t._v("目前还没有内容")])],1)],1)]:t._e()],2)],2)},n=[]}}]);