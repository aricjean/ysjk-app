(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mail-group-base-group-base"],{"00d2":function(t,e){},"405c":function(t,e,n){"use strict";n.r(e);var i=n("6f52"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},"44e9":function(t,e,n){"use strict";n.r(e);var i=n("d271"),r=n("e210");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var c,u=n("f0c5"),o=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,"4ec237a5",null,!1,i["a"],c);e["default"]=o.exports},"5e0e":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{title:{type:String,default:"提示"}},data:function(){return{callback:!1}},methods:{show:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.callback=t,this.$refs.confirm.show()},cancel:function(){this.$refs.confirm.hide()},confirm:function(){var t=this;"function"===typeof this.callback&&this.callback((function(){t.cancel()}))}}};e.default=i},"6b8a":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={freePopup:n("b042").default},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("free-popup",{ref:"confirm",attrs:{center:!0,maskColor:!0,transformOrigin:"center center"}},[n("v-uni-view",{staticClass:"bg-white rounded",staticStyle:{width:"600rpx"}},[n("v-uni-view",{staticClass:"p-4 flex flex-column"},[n("v-uni-text",{staticClass:"font-md font-weight-bold mb-3"},[t._v(t._s(t.title))]),t._t("default")],2),n("v-uni-view",{staticClass:"border-top flex align-stretch",staticStyle:{height:"100rpx"}},[n("v-uni-view",{staticClass:"flex-1 border-right flex align-center justify-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"font-md text-muted"},[t._v("取消")])],1),n("v-uni-view",{staticClass:"flex-1 flex align-center justify-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"font-md main-text-color"},[t._v("确定")])],1)],1)],1)],1)},a=[]},"6f52":function(t,e,n){"use strict";n("a9e3"),n("25eb"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("3353"),r={data:function(){return{groupId:0,group:null,confirmText:"",confirmType:""}},onLoad:function(t){if(!t.group_id)return this.backToast();this.groupId=Number.parseInt(t.group_id)},onShow:function(){this.getData()},computed:{confirmTitle:function(){return this.confirmType,"修改群聊名称"},placeholder:function(){return this.confirmType,"输入名称"}},beforeDestroy:function(){},methods:{updateName:function(){var t=this,e=this;e.confirmType="name",e.$refs.confirm.show((function(n){if(!t.confirmText)return uni.showToast({title:"不能为空",icon:"none"});(0,i.rename)({id:e.groupId,name:t.confirmText}).then((function(n){e.group.name=t.confirmText})),n()}))},openGroupRemark:function(){uni.navigateTo({url:"/pages/chat/group-remark/group-remark?params="+encodeURIComponent(JSON.stringify({id:this.group.id,remark:this.group.remark}))})},getData:function(){var t=this;if(!this.groupId)return uni.showToast({title:"群聊id错误"});(0,i.info)({id:this.groupId}).then((function(e){t.group=e.data.data}))},navigate:function(t){uni.navigateTo({url:"/pages/"+t})},doEvent:function(){uni.navigateTo({url:"/pages/chat/chat/chat?params="+encodeURIComponent(JSON.stringify({id:this.group.id,name:this.group.name,avatar:this.group.avatar,chat_type:"group"}))})}}};e.default=r},"76ba":function(t,e,n){"use strict";n.r(e);var i=n("00d2"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},8406:function(t,e,n){"use strict";n.r(e);var i=n("840b"),r=n("76ba");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var c,u=n("f0c5"),o=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,"d2edf0b6",null,!1,i["a"],c);e["default"]=o.exports},"840b":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticStyle:{height:"18rpx","background-color":"#EFEDE9"}})},a=[]},"9cc9":function(t,e,n){"use strict";n.r(e);var i=n("5e0e"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},b891:function(t,e,n){"use strict";n.r(e);var i=n("e19c"),r=n("405c");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var c,u=n("f0c5"),o=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,"ecae7d26",null,!1,i["a"],c);e["default"]=o.exports},d271:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-image",{class:t.type,style:t.getStyle,attrs:{src:t.src?t.src:"/static/images/userpic.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickEvent.apply(void 0,arguments)}}})},a=[]},dee2:function(t,e,n){"use strict";n("99af"),n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{size:{type:[String,Number],default:90},src:{type:String,default:""},type:{type:String,default:"rounded"},clickType:{type:String,default:"none"}},computed:{getStyle:function(){return"width: ".concat(this.size,"rpx;height: ").concat(this.size,"rpx;")}},methods:{clickEvent:function(){switch(this.clickType){case"navigate":uni.navigateTo({url:"/pages/mail/user-base/user-base"});break;default:this.$emit("click");break}}}};e.default=i},e19c:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={freeNavBar:n("3e12").default,freeAvater:n("44e9").default,freeListItem:n("7474").default,freeDivider:n("8406").default,freeConfirm:n("eb50").default},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"page"},[n("free-nav-bar",{attrs:{showBack:!0,showRight:!1,bgColor:"bg-white"}}),t.group?n("v-uni-view",{staticClass:"flex flex-wrap py-3 bg-white"},[t._l(t.group.groupUsers,(function(e,i){return n("v-uni-view",{key:i,staticClass:"flex flex-column align-center justify-center mb-2",staticStyle:{width:"150rpx"}},[n("free-avater",{attrs:{src:e.user.avatar||"/static/images/userpic.png",size:"110"}}),n("v-uni-text",{staticClass:"font text-muted mt-1",staticStyle:{"max-width":"120rpx",overflow:"hidden","text-overflow":"ellipsis"}},[t._v(t._s(e.nickname?e.user.nickname:e.user.usernmae))])],1)})),n("v-uni-view",{staticClass:"flex flex-column align-center justify-center mb-2",staticStyle:{width:"150rpx"}},[n("v-uni-view",{staticClass:"flex align-center justify-center border",staticStyle:{width:"120rpx",height:"120rpx"},attrs:{"hover-class":"bg-light"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.deleteUser.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"text-light-muted",staticStyle:{"font-size":"100rpx"}},[t._v("-")])],1)],1)],2):t._e(),t.group?n("v-uni-view",[n("free-list-item",{attrs:{title:"群聊名称",showRight:!0,showLeftIcon:!1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateName.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"font text-muted",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.group.name))])],1),t.$store.state.user.user.id===t.group.manager.id?n("free-list-item",{attrs:{title:"群公告",showRight:!0,showLeftIcon:!1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openGroupRemark.apply(void 0,arguments)}}}):t._e(),n("v-uni-view",{staticClass:"py-3 flex align-center justify-center bg-white",attrs:{"hover-class":"bg-light"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doEvent.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"font-md text-primary"},[t._v("发信息")])],1)],1):t._e(),n("free-divider"),n("free-confirm",{ref:"confirm",attrs:{title:t.confirmTitle}},[n("v-uni-input",{staticClass:"border-bottom font-md",attrs:{type:"text",placeholder:t.placeholder},model:{value:t.confirmText,callback:function(e){t.confirmText=e},expression:"confirmText"}})],1)],1)},a=[]},e210:function(t,e,n){"use strict";n.r(e);var i=n("dee2"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},eb50:function(t,e,n){"use strict";n.r(e);var i=n("6b8a"),r=n("9cc9");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var c,u=n("f0c5"),o=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,"0451b848",null,!1,i["a"],c);e["default"]=o.exports}}]);