(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mail-user-base-user-base"],{"00d2":function(t,e){},"44e9":function(t,e,i){"use strict";i.r(e);var n=i("d271"),a=i("e210");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);var s,o=i("f0c5"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"4ec237a5",null,!1,n["a"],s);e["default"]=c.exports},"76ba":function(t,e,i){"use strict";i.r(e);var n=i("00d2"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},8406:function(t,e,i){"use strict";i.r(e);var n=i("840b"),a=i("76ba");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);var s,o=i("f0c5"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"d2edf0b6",null,!1,n["a"],s);e["default"]=c.exports},"840b":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticStyle:{height:"18rpx","background-color":"#EFEDE9"}})},r=[]},d271:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-image",{class:t.type,style:t.getStyle,attrs:{src:t.src?t.src:"/static/images/userpic.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickEvent.apply(void 0,arguments)}}})},r=[]},d31f:function(t,e,i){"use strict";i.r(e);var n=i("e234"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},db1c:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var n={freeNavBar:i("3e12").default,freeIconButton:i("b060").default,freeAvater:i("44e9").default,freeListItem:i("7474").default,freeDivider:i("8406").default,tuiIcon:i("0010").default,freePopup:i("b042").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page"},[i("free-nav-bar",{attrs:{showBack:!0,showRight:!!t.friendUser,bgColor:"bg-white"}},[i("v-uni-view",{attrs:{slot:"right"},slot:"right"},[t.friendUser?i("free-icon-button",{attrs:{icon:"",name:"more-fill"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openAction.apply(void 0,arguments)}}}):t._e()],1)],1),i("v-uni-view",{staticClass:"px-3 py-4 flex align-center bg-white border-bottom"},[i("free-avater",{attrs:{src:t.detail.avatar,size:"120"}}),i("v-uni-view",{staticClass:"flex flex-column ml-3 flex-1"},[i("v-uni-view",{staticClass:"flex align-center justify-between"},[i("v-uni-text",{staticClass:"font-lg font-weight-bold mb-1"},[t._v("昵称："+t._s(t.friendUser&&t.friendUser.nickname?t.friendUser.nickname:t.detail.nickname))]),t.detail.star?i("v-uni-image",{staticStyle:{width:"40rpx",height:"40rpx"},attrs:{src:"/static/images/star.png"}}):t._e()],1),i("v-uni-text",{staticClass:"font-md text-light-muted"},[t._v("账号："+t._s(t.detail.username))])],1)],1),t.friendUser?[i("free-list-item",{attrs:{showRight:!0,showLeftIcon:!1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navigate(t.tagPath)}}},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-text",{staticClass:"font-md text-dark mr-3"},[t._v("标签")]),void 0,t._l(t.friendUser.friendTags,(function(e,n){return[e.tag?[i("v-uni-text",{staticClass:"font-md text-light-muted mr-2"},[t._v(t._s(e.tag.name))])]:t._e()]})),t.friendUser.friendTags.length<1?i("v-uni-text",{staticClass:"font-md text-light-muted"},[t._v("未设置")]):t._e()],2)],1)]:t._e(),i("free-divider"),t.friendUser?[i("free-list-item",{attrs:{showRight:!0,showLeftIcon:!1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openMoments.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-text",{staticClass:"font-md text-dark mr-3"},[t._v("康友圈")]),t.detail.moments[0]?[t.detail.moments[0].content&&!t.detail.moments[0].image.length?i("v-uni-text",{staticClass:"font text-secondary"},[t._v(t._s(t.detail.moments[0].content))]):t._e(),t._l(t.detail.moments[0].image,(function(t,e){return i("v-uni-image",{key:e,staticClass:"mr-2",staticStyle:{width:"90rpx",height:"90rpx"},attrs:{src:t}})}))]:t._e()],2)],1)]:t._e(),i("free-list-item",{attrs:{title:"健康信息",showRight:!0,showLeftIcon:!1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.healthUserProfile.apply(void 0,arguments)}}}),i("free-divider"),t.friendUser?[i("v-uni-view",{staticClass:"py-3 flex align-center justify-center bg-white",attrs:{"hover-class":"bg-light"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doEvent.apply(void 0,arguments)}}},[t.friendUser.isblack?t._e():i("tui-icon",{attrs:{name:"message",color:"#007bff",size:24}}),i("v-uni-text",{staticClass:"font-md text-primary"},[t._v(t._s(t.detail.isblack?"移出黑名单":"发信息"))])],1)]:[t.loading?t._e():[i("v-uni-view",{staticClass:"py-3 flex align-center justify-center bg-white",attrs:{"hover-class":"bg-light"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navigate(t.addFriend)}}},[i("v-uni-text",{staticClass:"font-md text-primary"},[t._v("添加好友")])],1)]],i("free-popup",{ref:"action",attrs:{bottom:!0,transformOrigin:"center bottom",maskColor:!0}},[i("v-uni-scroll-view",{staticClass:"bg-white",staticStyle:{height:"580rpx"},attrs:{"scroll-y":"true","show-scrollbar":!1}},t._l(t.actions,(function(e,n){return i("free-list-item",{key:n,attrs:{title:e.title,showRight:!1,border:!1},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.popupEvent(e)}}})})),1)],1)],2)},r=[]},dee2:function(t,e,i){"use strict";i("99af"),i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{size:{type:[String,Number],default:90},src:{type:String,default:""},type:{type:String,default:"rounded"},clickType:{type:String,default:"none"}},computed:{getStyle:function(){return"width: ".concat(this.size,"rpx;height: ").concat(this.size,"rpx;")}},methods:{clickEvent:function(){switch(this.clickType){case"navigate":uni.navigateTo({url:"/pages/mail/user-base/user-base"});break;default:this.$emit("click");break}}}};e.default=n},e210:function(t,e,i){"use strict";i.r(e);var n=i("dee2"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},e234:function(t,e,i){"use strict";i("a9e3"),i("25eb"),i("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("e2b3"),a={data:function(){return{detail:{id:0,username:"",nickname:"",avatar:"",sex:"",sign:"",area:"",friend:!1,friendUser:null,lookme:1,lookhim:1,star:0,isblack:0,tags:[]},friendUser:null,loading:!1,loadErr:!1}},onLoad:function(t){var e=this;if(!t.user_id)return this.backToast();this.detail.id=Number.parseInt(t.user_id),uni.$on("saveRemarkTag",(function(t){e.nickname=t.nickname,e.tagList=t.tagList}))},onShow:function(){this.getData()},computed:{addFriend:function(){var t={friend_id:this.detail.id,nickname:this.detail.nickname?this.detail.nickname:""};return"mail/add-friend/add-friend?params="+JSON.stringify(t)},tagPath:function(){var t=[],e=0,i="";i=this.detail.friendUser&&this.detail.friendUser.nickname?this.detail.friendUser.nickname:this.detail.nickname;try{e=this.detail.friendUser.friendUserId;for(var n=0;n<this.detail.friendUser.friendTags.length;n++){var a=this.detail.friendUser.friendTags[n];a.tag&&a.tag.name.trim()&&t.push(a.tag.name)}}catch(r){}return"mail/user-remark-tag/user-remark-tag?params="+JSON.stringify({friend_id:e,user_id:this.detail.id,nickname:i,tags:t.join(",")})},actions:function(){return[{icon:"",title:"设置备注和标签",type:"navigate",path:this.tagPath},{icon:"",title:"把他推荐给朋友",type:"navigate",path:"chat/chat-list/chat-list?params="+encodeURIComponent(JSON.stringify({type:"card",data:this.detail.nickname||this.detail.username,options:{avatar:this.detail.avatar,id:this.detail.id}}))},{icon:"",title:this.detail.star?"取消星标好友":"设为星标朋友",type:"event",event:"setStar"},{icon:"",title:"设置康友圈和动态权限",type:"navigate",path:"mail/user-moments-auth/user-moments-auth?user_id="+this.detail.id+"&params="+JSON.stringify({lookme:this.detail.lookme,lookhim:this.detail.lookhim})},{icon:"",title:this.detail.isblack?"移出黑名单":"加入黑名单",type:"event",event:"setBlack"},{icon:"",title:"投诉",type:"navigate",path:"mail/user-report/user-report?params="+JSON.stringify({user_id:this.detail.id,type:"user"})},{icon:"",title:"删除",type:"event",event:"deleteItem"}]}},beforeDestroy:function(){uni.$off("saveRemarkTag")},methods:{getData:function(){var t=this;t.loading||(t.loading=!0,(0,n.userInfo)({id:this.detail.id}).then((function(e){t.loading=!1,e.data.data.moments=[],t.detail=e.data.data,e.data.data.friendUser&&(t.friendUser=e.data.data.friendUser)})).catch((function(e){t.loading=!1})))},openAction:function(){this.$refs.action.show()},navigate:function(t){uni.navigateTo({url:"/pages/"+t})},popupEvent:function(t){var e=this;if(t.type){switch(t.type){case"navigate":uni.navigateTo({url:"/pages/"+t.path});break;case"event":this[t.event](t);break}setTimeout((function(){e.$refs.action.hide()}),300)}},deleteItem:function(){uni.showModal({content:"是否要删除该好友？",success:function(t){t.confirm}})},setStar:function(t){this.detail.star},setBlack:function(t){var e=this,i=this.detail.isblack?"移出黑名单":"加入黑名单";uni.showModal({content:"是否要"+i+"？",success:function(t){if(t.confirm)e.detail.isblack}})},doEvent:function(){if(this.detail.isblack)return this.setBlack();uni.navigateTo({url:"../../chat/chat/chat?params="+encodeURIComponent(JSON.stringify({id:this.detail.id,name:this.detail.nickname?this.detail.nickname:this.detail.username,avatar:this.detail.avatar,chat_type:"user"}))}),this.chat.readChatItem(this.detail.id,"user")},openMoments:function(){uni.navigateTo({url:"../../find/moments/moments?key=moment&params="+encodeURIComponent(JSON.stringify({id:this.detail.id,name:this.detail.nickname||this.detail.username,avatar:this.detail.avatar}))})},healthUserProfile:function(){uni.navigateTo({url:"/pages/health-user-profile/health-user-profile?userId="+this.detail.id})}}};e.default=a},f4ee:function(t,e,i){"use strict";i.r(e);var n=i("db1c"),a=i("d31f");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);var s,o=i("f0c5"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"eb706228",null,!1,n["a"],s);e["default"]=c.exports}}]);